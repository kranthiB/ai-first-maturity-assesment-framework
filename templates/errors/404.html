{% extends "base/layout.html" %}
{% set page_title = "Page Not Found" %}
{% set hide_breadcrumbs = true %}

{% block head_extra %}
<style>
.error-container {
    min-height: 60vh;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
}

.error-code {
    font-size: 8rem;
    font-weight: bold;
    color: #dc3545;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    margin-bottom: 0;
}

.error-message {
    font-size: 1.5rem;
    color: #6c757d;
    margin-bottom: 2rem;
}

.error-illustration {
    color: #dc3545;
    font-size: 3rem;
    margin-bottom: 2rem;
    opacity: 0.7;
}

.error-actions .btn {
    margin: 0.5rem;
}

@media (max-width: 768px) {
    .error-code {
        font-size: 5rem;
    }
    
    .error-message {
        font-size: 1.2rem;
    }
}
</style>
{% endblock %}

{% block content %}
<div class="container">
    <div class="error-container">
        <div class="text-center">
            <div class="error-illustration">
                <i class="bi bi-compass"></i>
            </div>
            <h1 class="error-code">404</h1>
            <p class="error-message">
                Oops! The page you're looking for seems to have wandered off.
            </p>
            <p class="text-muted mb-4">
                The requested page could not be found. This might be because:
            </p>
            <div class="row justify-content-center mb-4">
                <div class="col-md-6">
                    <ul class="list-unstyled text-muted">
                        <li><i class="bi bi-x-circle text-danger me-2"></i>The URL was mistyped</li>
                        <li><i class="bi bi-x-circle text-danger me-2"></i>The page has been moved or deleted</li>
                        <li><i class="bi bi-x-circle text-danger me-2"></i>You don't have permission to access this page</li>
                    </ul>
                </div>
            </div>
            
            <div class="error-actions">
                <a href="{{ url_for('main.index') if url_for else '/' }}" 
                   class="btn btn-primary btn-lg">
                    <i class="bi bi-house me-2"></i>Go Home
                </a>
                <button onclick="history.back()" class="btn btn-outline-secondary btn-lg">
                    <i class="bi bi-arrow-left me-2"></i>Go Back
                </button>
                <a href="{{ url_for('assessment.start') if url_for else '/assessment/start' }}" 
                   class="btn btn-success btn-lg">
                    <i class="bi bi-play-circle me-2"></i>Start Assessment
                </a>
            </div>
            
            <div class="mt-5">
                <p class="text-muted">
                    Still having trouble? 
                    <a href="{{ url_for('main.about') if url_for else '/about' }}" class="text-decoration-none">
                        Contact support
                    </a>
                </p>
            </div>
        </div>
    </div>
</div>

<!-- Search suggestions -->
<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">
                        <i class="bi bi-search me-2"></i>Popular Pages
                    </h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h6 class="text-muted">Assessment</h6>
                            <ul class="list-unstyled">
                                <li>
                                    <a href="{{ url_for('assessment.start') if url_for else '/assessment/start' }}" 
                                       class="text-decoration-none">
                                        <i class="bi bi-play-circle me-2"></i>Start New Assessment
                                    </a>
                                </li>
                                <li>
                                    <a href="{{ url_for('assessment.index') if url_for else '/assessment' }}" 
                                       class="text-decoration-none">
                                        <i class="bi bi-list-ul me-2"></i>My Assessments
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h6 class="text-muted">Assessment</h6>
                            <ul class="list-unstyled">
                                <li>
                                    <a href="{{ url_for('assessment.index') if url_for else '/assessment' }}" 
                                       class="text-decoration-none">
                                        <i class="bi bi-clipboard-data me-2"></i>View Assessments
                                    </a>
                                </li>
                                <li>
                                    <a href="{{ url_for('assessment.create') if url_for else '/assessment/create' }}" 
                                       class="text-decoration-none">
                                        <i class="bi bi-plus-circle me-2"></i>Create Assessment
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Add animation to error code
    const errorCode = document.querySelector('.error-code');
    if (errorCode) {
        errorCode.style.animation = 'pulse 2s infinite';
    }
    
    // Track 404 events for analytics
    if (typeof gtag !== 'undefined') {
        gtag('event', 'page_view', {
            'page_title': '404 - Page Not Found',
            'page_location': window.location.href,
            'custom_map': {'dimension1': '404_error'}
        });
    }
});

// Add CSS animation
const style = document.createElement('style');
style.textContent = `
    @keyframes pulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.05); }
        100% { transform: scale(1); }
    }
`;
document.head.appendChild(style);
</script>
{% endblock %}
